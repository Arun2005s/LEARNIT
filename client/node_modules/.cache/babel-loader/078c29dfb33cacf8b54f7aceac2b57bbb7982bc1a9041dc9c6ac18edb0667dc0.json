{"ast":null,"code":"var _jsxFileName = \"E:\\\\Online Learning System\\\\client\\\\src\\\\pages\\\\Assignments.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { FaCalendar, FaFileAlt, FaUpload, FaCheck, FaTimes, FaEye } from 'react-icons/fa';\nimport axios from 'axios';\nimport './Assignments.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Assignments = () => {\n  _s();\n  var _selectedAssignment$a, _selectedAssignment$a2, _selectedAssignment$a3;\n  const {\n    user\n  } = useAuth();\n  const [assignments, setAssignments] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [selectedAssignment, setSelectedAssignment] = useState(null);\n  const [showSubmissionForm, setShowSubmissionForm] = useState(false);\n  const [submissionData, setSubmissionData] = useState({\n    file: null,\n    url: '',\n    comments: ''\n  });\n  const [submitting, setSubmitting] = useState(false);\n  useEffect(() => {\n    fetchAssignments();\n  }, []);\n  const fetchAssignments = async () => {\n    try {\n      const response = await axios.get('/api/assignments');\n      setAssignments(response.data);\n    } catch (error) {\n      console.error('Error fetching assignments:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFileChange = e => {\n    const file = e.target.files[0];\n    setSubmissionData(prev => ({\n      ...prev,\n      file\n    }));\n  };\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setSubmissionData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!selectedAssignment) return;\n    try {\n      var _submissionData$file;\n      setSubmitting(true);\n      console.log('Submitting assignment:', {\n        assignmentId: selectedAssignment._id,\n        fileType: selectedAssignment.fileType,\n        hasFile: !!submissionData.file,\n        fileName: (_submissionData$file = submissionData.file) === null || _submissionData$file === void 0 ? void 0 : _submissionData$file.name,\n        comments: submissionData.comments\n      });\n      const formData = new FormData();\n      formData.append('comments', submissionData.comments);\n      if (selectedAssignment.fileType === 'url') {\n        formData.append('url', submissionData.url);\n      } else if (submissionData.file) {\n        formData.append('file', submissionData.file);\n      }\n      console.log('FormData contents:');\n      for (let [key, value] of formData.entries()) {\n        console.log(key, value);\n      }\n      const response = await axios.post(`/api/assignments/${selectedAssignment._id}/submit`, formData, {\n        headers: {\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n      console.log('Submission response:', response.data);\n      setSubmissionData({\n        file: null,\n        url: '',\n        comments: ''\n      });\n      setShowSubmissionForm(false);\n      setSelectedAssignment(null);\n      fetchAssignments();\n      alert('Assignment submitted successfully!');\n    } catch (error) {\n      var _error$response, _error$response$data;\n      console.error('Error submitting assignment:', error);\n      alert(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || 'Failed to submit assignment');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const formatDate = dateString => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      year: 'numeric',\n      month: 'short',\n      day: 'numeric'\n    });\n  };\n  const getFileTypeLabel = fileType => {\n    const labels = {\n      'image': 'Image Files',\n      'video': 'Video Files',\n      'pdf': 'PDF Files',\n      'url': 'URL Link',\n      'document': 'Document Files',\n      'any': 'Any File Type'\n    };\n    return labels[fileType] || fileType;\n  };\n  const hasSubmitted = assignment => {\n    var _assignment$submissio;\n    return (_assignment$submissio = assignment.submissions) === null || _assignment$submissio === void 0 ? void 0 : _assignment$submissio.some(sub => sub.student._id === user._id);\n  };\n  const getSubmission = assignment => {\n    var _assignment$submissio2;\n    return (_assignment$submissio2 = assignment.submissions) === null || _assignment$submissio2 === void 0 ? void 0 : _assignment$submissio2.find(sub => sub.student._id === user._id);\n  };\n  const isOverdue = dueDate => {\n    return new Date(dueDate) < new Date();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading assignments...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"assignments-page\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"page-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Assignments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Complete your assigned tasks and submit your work\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"assignments-grid\",\n        children: assignments.map(assignment => {\n          var _assignment$allowedEx;\n          const submitted = hasSubmitted(assignment);\n          const submission = getSubmission(assignment);\n          const overdue = isOverdue(assignment.dueDate);\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"assignment-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"assignment-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"assignment-status\",\n                children: submitted ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status submitted\",\n                  children: [/*#__PURE__*/_jsxDEV(FaCheck, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 158,\n                    columnNumber: 25\n                  }, this), \"Submitted\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 157,\n                  columnNumber: 23\n                }, this) : overdue ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status overdue\",\n                  children: [/*#__PURE__*/_jsxDEV(FaTimes, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 25\n                  }, this), \"Overdue\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 162,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"status active\",\n                  children: [/*#__PURE__*/_jsxDEV(FaEye, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 25\n                  }, this), \"Active\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 155,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"assignment-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"meta-item\",\n                  children: [/*#__PURE__*/_jsxDEV(FaFileAlt, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 176,\n                    columnNumber: 23\n                  }, this), getFileTypeLabel(assignment.fileType)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 175,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"meta-item\",\n                  children: [/*#__PURE__*/_jsxDEV(FaCalendar, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 180,\n                    columnNumber: 23\n                  }, this), \"Due: \", formatDate(assignment.dueDate)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 179,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 174,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 154,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"assignment-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: assignment.title\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 187,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"assignment-description\",\n                children: assignment.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 188,\n                columnNumber: 19\n              }, this), ((_assignment$allowedEx = assignment.allowedExtensions) === null || _assignment$allowedEx === void 0 ? void 0 : _assignment$allowedEx.length) > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-requirements\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Allowed file types:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 192,\n                  columnNumber: 23\n                }, this), \" \", assignment.allowedExtensions.join(', ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 21\n              }, this), assignment.maxFileSize && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"file-requirements\",\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Max file size:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 198,\n                  columnNumber: 23\n                }, this), \" \", assignment.maxFileSize, \" MB\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"assignment-actions\",\n              children: submitted ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"submission-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Submitted:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 206,\n                    columnNumber: 26\n                  }, this), \" \", formatDate(submission.submittedAt)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 206,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: submission.fileUrl,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  className: \"btn btn-outline btn-sm\",\n                  children: \"View Submission\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 207,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 205,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn btn-primary\",\n                onClick: () => {\n                  setSelectedAssignment(assignment);\n                  setShowSubmissionForm(true);\n                },\n                disabled: overdue,\n                children: [/*#__PURE__*/_jsxDEV(FaUpload, {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 23\n                }, this), overdue ? 'Assignment Overdue' : 'Submit Assignment']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 217,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 17\n            }, this)]\n          }, assignment._id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 153,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), showSubmissionForm && selectedAssignment && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        onClick: () => setShowSubmissionForm(false),\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          onClick: e => e.stopPropagation(),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Submit Assignment: \", selectedAssignment.title]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"close-btn\",\n              onClick: () => setShowSubmissionForm(false),\n              children: \"\\xD7\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 238,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"assignment-requirements\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: \"Requirements:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"File Type:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 251,\n                  columnNumber: 22\n                }, this), \" \", getFileTypeLabel(selectedAssignment.fileType)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this), selectedAssignment.maxFileSize && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Max Size:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 253,\n                  columnNumber: 24\n                }, this), \" \", selectedAssignment.maxFileSize, \" MB\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 21\n              }, this), ((_selectedAssignment$a = selectedAssignment.allowedExtensions) === null || _selectedAssignment$a === void 0 ? void 0 : _selectedAssignment$a.length) > 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Allowed Extensions:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 24\n                }, this), \" \", selectedAssignment.allowedExtensions.join(', ')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSubmit,\n              className: \"submission-form\",\n              children: [selectedAssignment.fileType === 'url' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"url\",\n                  children: \"URL *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"url\",\n                  id: \"url\",\n                  name: \"url\",\n                  value: submissionData.url,\n                  onChange: handleInputChange,\n                  required: true,\n                  className: \"form-input\",\n                  placeholder: \"https://example.com\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"file\",\n                  children: \"File *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 277,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"file\",\n                  id: \"file\",\n                  name: \"file\",\n                  onChange: handleFileChange,\n                  required: true,\n                  className: \"form-input\",\n                  accept: ((_selectedAssignment$a2 = selectedAssignment.allowedExtensions) === null || _selectedAssignment$a2 === void 0 ? void 0 : _selectedAssignment$a2.length) > 0 ? selectedAssignment.allowedExtensions.join(',') : undefined\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                  children: [\"Max size: \", selectedAssignment.maxFileSize || 10, \" MB\", ((_selectedAssignment$a3 = selectedAssignment.allowedExtensions) === null || _selectedAssignment$a3 === void 0 ? void 0 : _selectedAssignment$a3.length) > 0 && ` • Allowed: ${selectedAssignment.allowedExtensions.join(', ')}`]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 289,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 276,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"comments\",\n                  children: \"Comments (Optional)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 298,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: \"comments\",\n                  name: \"comments\",\n                  value: submissionData.comments,\n                  onChange: handleInputChange,\n                  rows: \"3\",\n                  className: \"form-textarea\",\n                  placeholder: \"Add any additional comments about your submission...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 299,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-actions\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"btn btn-outline\",\n                  onClick: () => setShowSubmissionForm(false),\n                  children: \"Cancel\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"btn btn-primary\",\n                  disabled: submitting,\n                  children: submitting ? 'Submitting...' : 'Submit Assignment'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 318,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 236,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 139,\n    columnNumber: 5\n  }, this);\n};\n_s(Assignments, \"hx5UWWtuIJUlVlLe8rV3OZ7gURg=\", false, function () {\n  return [useAuth];\n});\n_c = Assignments;\nexport default Assignments;\nvar _c;\n$RefreshReg$(_c, \"Assignments\");","map":{"version":3,"names":["React","useState","useEffect","useAuth","FaCalendar","FaFileAlt","FaUpload","FaCheck","FaTimes","FaEye","axios","jsxDEV","_jsxDEV","Assignments","_s","_selectedAssignment$a","_selectedAssignment$a2","_selectedAssignment$a3","user","assignments","setAssignments","loading","setLoading","selectedAssignment","setSelectedAssignment","showSubmissionForm","setShowSubmissionForm","submissionData","setSubmissionData","file","url","comments","submitting","setSubmitting","fetchAssignments","response","get","data","error","console","handleFileChange","e","target","files","prev","handleInputChange","name","value","handleSubmit","preventDefault","_submissionData$file","log","assignmentId","_id","fileType","hasFile","fileName","formData","FormData","append","key","entries","post","headers","alert","_error$response","_error$response$data","message","formatDate","dateString","Date","toLocaleDateString","year","month","day","getFileTypeLabel","labels","hasSubmitted","assignment","_assignment$submissio","submissions","some","sub","student","getSubmission","_assignment$submissio2","find","isOverdue","dueDate","className","children","_jsxFileName","lineNumber","columnNumber","map","_assignment$allowedEx","submitted","submission","overdue","title","description","allowedExtensions","length","join","maxFileSize","submittedAt","href","fileUrl","rel","onClick","disabled","stopPropagation","onSubmit","htmlFor","type","id","onChange","required","placeholder","accept","undefined","rows","_c","$RefreshReg$"],"sources":["E:/Online Learning System/client/src/pages/Assignments.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { FaCalendar, FaFileAlt, FaUpload, FaCheck, FaTimes, FaEye } from 'react-icons/fa';\r\nimport axios from 'axios';\r\nimport './Assignments.css';\r\n\r\nconst Assignments = () => {\r\n  const { user } = useAuth();\r\n  const [assignments, setAssignments] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [selectedAssignment, setSelectedAssignment] = useState(null);\r\n  const [showSubmissionForm, setShowSubmissionForm] = useState(false);\r\n  const [submissionData, setSubmissionData] = useState({\r\n    file: null,\r\n    url: '',\r\n    comments: ''\r\n  });\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetchAssignments();\r\n  }, []);\r\n\r\n  const fetchAssignments = async () => {\r\n    try {\r\n      const response = await axios.get('/api/assignments');\r\n      setAssignments(response.data);\r\n    } catch (error) {\r\n      console.error('Error fetching assignments:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleFileChange = (e) => {\r\n    const file = e.target.files[0];\r\n    setSubmissionData(prev => ({ ...prev, file }));\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setSubmissionData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    \r\n    if (!selectedAssignment) return;\r\n\r\n    try {\r\n      setSubmitting(true);\r\n      \r\n      console.log('Submitting assignment:', {\r\n        assignmentId: selectedAssignment._id,\r\n        fileType: selectedAssignment.fileType,\r\n        hasFile: !!submissionData.file,\r\n        fileName: submissionData.file?.name,\r\n        comments: submissionData.comments\r\n      });\r\n      \r\n      const formData = new FormData();\r\n      formData.append('comments', submissionData.comments);\r\n\r\n      if (selectedAssignment.fileType === 'url') {\r\n        formData.append('url', submissionData.url);\r\n      } else if (submissionData.file) {\r\n        formData.append('file', submissionData.file);\r\n      }\r\n\r\n      console.log('FormData contents:');\r\n      for (let [key, value] of formData.entries()) {\r\n        console.log(key, value);\r\n      }\r\n\r\n      const response = await axios.post(`/api/assignments/${selectedAssignment._id}/submit`, formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        }\r\n      });\r\n      \r\n      console.log('Submission response:', response.data);\r\n\r\n      setSubmissionData({ file: null, url: '', comments: '' });\r\n      setShowSubmissionForm(false);\r\n      setSelectedAssignment(null);\r\n      fetchAssignments();\r\n      \r\n      alert('Assignment submitted successfully!');\r\n    } catch (error) {\r\n      console.error('Error submitting assignment:', error);\r\n      alert(error.response?.data?.message || 'Failed to submit assignment');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const formatDate = (dateString) => {\r\n    return new Date(dateString).toLocaleDateString('en-US', {\r\n      year: 'numeric',\r\n      month: 'short',\r\n      day: 'numeric'\r\n    });\r\n  };\r\n\r\n  const getFileTypeLabel = (fileType) => {\r\n    const labels = {\r\n      'image': 'Image Files',\r\n      'video': 'Video Files',\r\n      'pdf': 'PDF Files',\r\n      'url': 'URL Link',\r\n      'document': 'Document Files',\r\n      'any': 'Any File Type'\r\n    };\r\n    return labels[fileType] || fileType;\r\n  };\r\n\r\n  const hasSubmitted = (assignment) => {\r\n    return assignment.submissions?.some(sub => sub.student._id === user._id);\r\n  };\r\n\r\n  const getSubmission = (assignment) => {\r\n    return assignment.submissions?.find(sub => sub.student._id === user._id);\r\n  };\r\n\r\n  const isOverdue = (dueDate) => {\r\n    return new Date(dueDate) < new Date();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading-container\">\r\n        <div className=\"loading-spinner\"></div>\r\n        <p>Loading assignments...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"assignments-page\">\r\n      <div className=\"container\">\r\n        <div className=\"page-header\">\r\n          <h1>Assignments</h1>\r\n          <p>Complete your assigned tasks and submit your work</p>\r\n        </div>\r\n\r\n        <div className=\"assignments-grid\">\r\n          {assignments.map((assignment) => {\r\n            const submitted = hasSubmitted(assignment);\r\n            const submission = getSubmission(assignment);\r\n            const overdue = isOverdue(assignment.dueDate);\r\n\r\n            return (\r\n              <div key={assignment._id} className=\"assignment-card\">\r\n                <div className=\"assignment-header\">\r\n                  <div className=\"assignment-status\">\r\n                    {submitted ? (\r\n                      <span className=\"status submitted\">\r\n                        <FaCheck />\r\n                        Submitted\r\n                      </span>\r\n                    ) : overdue ? (\r\n                      <span className=\"status overdue\">\r\n                        <FaTimes />\r\n                        Overdue\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"status active\">\r\n                        <FaEye />\r\n                        Active\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  \r\n                  <div className=\"assignment-meta\">\r\n                    <span className=\"meta-item\">\r\n                      <FaFileAlt />\r\n                      {getFileTypeLabel(assignment.fileType)}\r\n                    </span>\r\n                    <span className=\"meta-item\">\r\n                      <FaCalendar />\r\n                      Due: {formatDate(assignment.dueDate)}\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"assignment-content\">\r\n                  <h3>{assignment.title}</h3>\r\n                  <p className=\"assignment-description\">{assignment.description}</p>\r\n                  \r\n                  {assignment.allowedExtensions?.length > 0 && (\r\n                    <div className=\"file-requirements\">\r\n                      <strong>Allowed file types:</strong> {assignment.allowedExtensions.join(', ')}\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {assignment.maxFileSize && (\r\n                    <div className=\"file-requirements\">\r\n                      <strong>Max file size:</strong> {assignment.maxFileSize} MB\r\n                    </div>\r\n                  )}\r\n                </div>\r\n\r\n                <div className=\"assignment-actions\">\r\n                  {submitted ? (\r\n                    <div className=\"submission-info\">\r\n                      <p><strong>Submitted:</strong> {formatDate(submission.submittedAt)}</p>\r\n                      <a \r\n                        href={submission.fileUrl} \r\n                        target=\"_blank\" \r\n                        rel=\"noopener noreferrer\"\r\n                        className=\"btn btn-outline btn-sm\"\r\n                      >\r\n                        View Submission\r\n                      </a>\r\n                    </div>\r\n                  ) : (\r\n                    <button\r\n                      className=\"btn btn-primary\"\r\n                      onClick={() => {\r\n                        setSelectedAssignment(assignment);\r\n                        setShowSubmissionForm(true);\r\n                      }}\r\n                      disabled={overdue}\r\n                    >\r\n                      <FaUpload />\r\n                      {overdue ? 'Assignment Overdue' : 'Submit Assignment'}\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        {showSubmissionForm && selectedAssignment && (\r\n          <div className=\"modal-overlay\" onClick={() => setShowSubmissionForm(false)}>\r\n            <div className=\"modal-content\" onClick={(e) => e.stopPropagation()}>\r\n              <div className=\"modal-header\">\r\n                <h3>Submit Assignment: {selectedAssignment.title}</h3>\r\n                <button \r\n                  className=\"close-btn\"\r\n                  onClick={() => setShowSubmissionForm(false)}\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n              \r\n              <div className=\"modal-body\">\r\n                <div className=\"assignment-requirements\">\r\n                  <h4>Requirements:</h4>\r\n                  <p><strong>File Type:</strong> {getFileTypeLabel(selectedAssignment.fileType)}</p>\r\n                  {selectedAssignment.maxFileSize && (\r\n                    <p><strong>Max Size:</strong> {selectedAssignment.maxFileSize} MB</p>\r\n                  )}\r\n                  {selectedAssignment.allowedExtensions?.length > 0 && (\r\n                    <p><strong>Allowed Extensions:</strong> {selectedAssignment.allowedExtensions.join(', ')}</p>\r\n                  )}\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit} className=\"submission-form\">\r\n                  {selectedAssignment.fileType === 'url' ? (\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"url\">URL *</label>\r\n                      <input\r\n                        type=\"url\"\r\n                        id=\"url\"\r\n                        name=\"url\"\r\n                        value={submissionData.url}\r\n                        onChange={handleInputChange}\r\n                        required\r\n                        className=\"form-input\"\r\n                        placeholder=\"https://example.com\"\r\n                      />\r\n                    </div>\r\n                  ) : (\r\n                    <div className=\"form-group\">\r\n                      <label htmlFor=\"file\">File *</label>\r\n                      <input\r\n                        type=\"file\"\r\n                        id=\"file\"\r\n                        name=\"file\"\r\n                        onChange={handleFileChange}\r\n                        required\r\n                        className=\"form-input\"\r\n                        accept={selectedAssignment.allowedExtensions?.length > 0 \r\n                          ? selectedAssignment.allowedExtensions.join(',') \r\n                          : undefined}\r\n                      />\r\n                      <small>\r\n                        Max size: {selectedAssignment.maxFileSize || 10} MB\r\n                        {selectedAssignment.allowedExtensions?.length > 0 && \r\n                          ` • Allowed: ${selectedAssignment.allowedExtensions.join(', ')}`}\r\n                      </small>\r\n                    </div>\r\n                  )}\r\n\r\n                  <div className=\"form-group\">\r\n                    <label htmlFor=\"comments\">Comments (Optional)</label>\r\n                    <textarea\r\n                      id=\"comments\"\r\n                      name=\"comments\"\r\n                      value={submissionData.comments}\r\n                      onChange={handleInputChange}\r\n                      rows=\"3\"\r\n                      className=\"form-textarea\"\r\n                      placeholder=\"Add any additional comments about your submission...\"\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-actions\">\r\n                    <button \r\n                      type=\"button\" \r\n                      className=\"btn btn-outline\" \r\n                      onClick={() => setShowSubmissionForm(false)}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                    <button \r\n                      type=\"submit\" \r\n                      className=\"btn btn-primary\"\r\n                      disabled={submitting}\r\n                    >\r\n                      {submitting ? 'Submitting...' : 'Submit Assignment'}\r\n                    </button>\r\n                  </div>\r\n                </form>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Assignments;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}